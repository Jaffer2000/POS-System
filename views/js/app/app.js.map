{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://possystem/./src/components/OrderOverview.vue","webpack://possystem/./src/components/OrderOverview.vue?554a","webpack://possystem/./src/components/OrderDetails.vue","webpack://possystem/./src/components/OrderDetails.vue?6066","webpack://possystem/./src/router.js","webpack://possystem/./src/App.vue","webpack://possystem/./src/components/LoginComponent.vue","webpack://possystem/./src/components/LoginComponent.vue?29d0","webpack://possystem/./src/components/CashRegister.vue","webpack://possystem/./src/components/OrderSummary.vue","webpack://possystem/./src/components/OrderSummary.vue?0d33","webpack://possystem/./src/components/CashRegister.vue?c832","webpack://possystem/./src/components/HeaderComponent.vue","webpack://possystem/./src/components/HeaderComponent.vue?2d17","webpack://possystem/./src/components/SidebarComponent.vue","webpack://possystem/./src/components/SidebarComponent.vue?df95","webpack://possystem/./src/components/ErrorPopup.vue","webpack://possystem/./src/components/ErrorPopup.vue?778d","webpack://possystem/./src/App.vue?7ccd","webpack://possystem/./src/main.js","webpack://possystem/webpack/bootstrap","webpack://possystem/webpack/runtime/chunk loaded","webpack://possystem/webpack/runtime/compat get default export","webpack://possystem/webpack/runtime/define property getters","webpack://possystem/webpack/runtime/global","webpack://possystem/webpack/runtime/hasOwnProperty shorthand","webpack://possystem/webpack/runtime/make namespace object","webpack://possystem/webpack/runtime/jsonp chunk loading","webpack://possystem/webpack/startup"],"sourcesContent":["<template>\r\n  <div class=\"order-overview-container\">\r\n    <h2>Bestellingen</h2>\r\n\r\n    <!-- Search Bar -->\r\n    <div class=\"search-bar-order-overview mb-3\">\r\n      <div class=\"input-group\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          v-model=\"searchQuery\"\r\n          placeholder=\"Zoek op ID, Referentie, Klant of Datum\"\r\n          @focus=\"$emit('focus-state-change', true)\"\r\n          @blur=\"$emit('focus-state-change', false)\"\r\n          @input=\"onSearchInput\"\r\n        />\r\n        <span class=\"input-group-text\">\r\n          <i class=\"fas fa-search\"></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"filteredOrders.length === 0\">\r\n      <p>Geen bestellingen gevonden.</p>\r\n    </div>\r\n    <div v-else>\r\n      <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Referentie</th>\r\n            <th>Klant</th>\r\n            <th>Betaling</th>\r\n            <th>Datum</th>\r\n            <th>Totaal</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"order in paginatedOrders.filter((order) => order)\"\r\n            :key=\"order.id\"\r\n            @click=\"\r\n              $router.push({ name: 'OrderDetails', params: { id: order.id } })\r\n            \"\r\n            style=\"cursor: pointer\"\r\n          >\r\n            <td>{{ order.id }}</td>\r\n            <td>{{ order.reference }}</td>\r\n            <td>{{ order.customer }}</td>\r\n            <td>{{ order.payment_method }}</td>\r\n            <td>{{ order.date }}</td>\r\n            <td>â‚¬{{ (order.total_tax_incl || 0).toFixed(2) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <!-- Pagination Controls -->\r\n      <nav>\r\n        <ul class=\"pagination justify-content-center\">\r\n          <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n            <button class=\"page-link\" @click=\"goToPage(currentPage - 1)\">\r\n              Vorige\r\n            </button>\r\n          </li>\r\n\r\n          <!-- Dynamically display pages -->\r\n          <li\r\n            v-for=\"page in pageRange\"\r\n            :key=\"page\"\r\n            class=\"page-item\"\r\n            :class=\"{ active: page === currentPage }\"\r\n          >\r\n            <button class=\"page-link\" @click=\"goToPage(page)\">\r\n              {{ page }}\r\n            </button>\r\n          </li>\r\n\r\n          <li\r\n            class=\"page-item\"\r\n            :class=\"{ disabled: currentPage === totalPages }\"\r\n          >\r\n            <button class=\"page-link\" @click=\"goToPage(currentPage + 1)\">\r\n              Volgende\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"OrderOverview\",\r\n  props: {\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      searchQuery: \"\",\r\n      currentPage: 1,\r\n      ordersPerPage: 8, // Display 8 orders per page\r\n      totalItems: 0, // To track the total number of items\r\n    };\r\n  },\r\n  computed: {\r\n    filteredOrders() {\r\n      // Only filter locally if there's no API-based search\r\n      if (this.searchQuery) {\r\n        const query = this.searchQuery.toLowerCase();\r\n        return this.orders.filter((order) => {\r\n          return (\r\n            order.id.toString().includes(query) ||\r\n            order.reference.toLowerCase().includes(query) ||\r\n            order.customer.toLowerCase().includes(query) ||\r\n            order.date.toLowerCase().includes(query)\r\n          );\r\n        });\r\n      }\r\n      return this.orders; // Use the API-provided paginated results if no local search\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.totalItems / this.ordersPerPage);\r\n    },\r\n    pageRange() {\r\n      let range = [];\r\n      const maxPagesToShow = 10;\r\n      const startPage = Math.max(1, this.currentPage - 4);\r\n      const endPage = Math.min(this.totalPages, startPage + maxPagesToShow - 1);\r\n\r\n      for (let page = startPage; page <= endPage; page++) {\r\n        range.push(page);\r\n      }\r\n\r\n      return range;\r\n    },\r\n    paginatedOrders() {\r\n      return this.filteredOrders; // Directly return filtered orders\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchOrders(); // Fetch orders on component mount\r\n  },\r\n  methods: {\r\n    async fetchOrders() {\r\n      try {\r\n        const response = await axios.get(`${this.apiBaseUrl}/orders`, {\r\n          headers: {\r\n            Authorization: `Bearer ${this.token}`,\r\n          },\r\n          params: {\r\n            searchterm: this.searchQuery,\r\n            page: this.currentPage,\r\n            per_page: this.ordersPerPage,\r\n          },\r\n        });\r\n\r\n        console.log(\"API Response:\", response.data);\r\n        this.orders = response.data.data.list; // API paginated data\r\n        this.totalItems = response.data.data.pagination.total_items;\r\n\r\n        console.log(\"Orders for Page:\", this.currentPage, this.orders);\r\n      } catch (error) {\r\n        console.error(\"Fout bij het ophalen van bestellingen:\", error);\r\n      }\r\n    },\r\n    onSearchInput() {\r\n      // Reset current page to 1 when search is updated\r\n      this.currentPage = 1;\r\n      this.fetchOrders(); // Fetch orders again on search change\r\n    },\r\n    goToPage(page) {\r\n      if (page > 0 && page <= this.totalPages) {\r\n        this.currentPage = page;\r\n        this.fetchOrders(); // Fetch orders again when page is changed\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderOverview.vue?vue&type=template&id=d3756aac\"\nimport script from \"./OrderOverview.vue?vue&type=script&lang=js\"\nexport * from \"./OrderOverview.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"order-details-container\">\r\n    <div v-if=\"order\" class=\"order-details-content\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <h2>Bestelgegevens - ID: {{ order.id }}</h2>\r\n        <button class=\"print-order-btn btn\" @click=\"handlePrint\">\r\n          <i class=\"fas fa-print me-2\"></i> Print Bestelling\r\n        </button>\r\n      </div>\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Referentie</th>\r\n            <th>Klant</th>\r\n            <th>Datum</th>\r\n            <th>Totaal</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>{{ order.reference }}</td>\r\n            <td>{{ order.customer || \"Geen klantinformatie\" }}</td>\r\n            <td>{{ order.date }}</td>\r\n            <td>â‚¬{{ order.total_tax_incl.toFixed(2) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <h3>Gekochte artikelen</h3>\r\n      <div v-if=\"order.lines && order.lines.length > 0\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Afbeelding</th>\r\n              <th>Naam</th>\r\n              <th>Referentie</th>\r\n              <th>Aantal</th>\r\n              <th>Prijs</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.lines\" :key=\"item.product_id\">\r\n              <td>\r\n                <img\r\n                  :src=\"item.image_url\"\r\n                  alt=\"Product afbeelding\"\r\n                  style=\"max-width: 50px\"\r\n                />\r\n              </td>\r\n              <td>{{ item.name }}</td>\r\n              <td>{{ item.reference }}</td>\r\n              <td>{{ item.quantity }}</td>\r\n              <td>â‚¬{{ item.price_tax_incl.toFixed(2) }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div v-else>\r\n        <p>Geen artikelen gevonden in deze bestelling.</p>\r\n      </div>\r\n      <button @click=\"goToOrderOverview\" class=\"back-to-orders-btn btn mt-3\">\r\n        <i class=\"fas fa-arrow-left me-1\"></i> Terug naar Bestellingen\r\n      </button>\r\n    </div>\r\n    <div v-else>\r\n      <p>Bezig met het laden van Bestelgegevens...</p>\r\n    </div>\r\n\r\n    <!-- Popup for Print Type -->\r\n    <div v-if=\"showPopup\" class=\"popup-overlay\" @click=\"closePopup\">\r\n      <div class=\"popup-message\" @click.stop>\r\n        <h3>Kies het type document:</h3>\r\n        <button @click=\"printDocument('INVOICE')\">Factuur</button>\r\n        <button @click=\"printDocument('RECEIPT')\">Bon</button>\r\n        <button @click=\"closePopup\">Annuleren</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"OrderDetails\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      order: null,\r\n      showPopup: false, // Controls the visibility of the popup\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchOrderDetails();\r\n  },\r\n  methods: {\r\n    async fetchOrderDetails() {\r\n      try {\r\n        const response = await axios.get(\r\n          `${this.apiBaseUrl}/orders/${this.id}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        this.order = response.data.data || null;\r\n      } catch (error) {\r\n        console.error(\"Fout bij het ophalen van orderdetails:\", error);\r\n        this.order = null;\r\n      }\r\n    },\r\n    handlePrint() {\r\n      this.showPopup = true;\r\n    },\r\n    closePopup() {\r\n      this.showPopup = false;\r\n    },\r\n    async printDocument(printType) {\r\n      if (!this.order || !this.order.id) {\r\n        console.error(\"Fout: Geen order ID beschikbaar.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/orders/print-document`,\r\n          {\r\n            order_id: this.order.id,\r\n            print_type: printType,\r\n          },\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        console.log(\"Printen succesvol:\", response.data);\r\n        alert(\"Document succesvol geprint!\");\r\n        this.closePopup(); // Close the popup after printing\r\n      } catch (error) {\r\n        console.error(\"Fout bij het printen:\", error.response?.data || error);\r\n        alert(\"Er is een fout opgetreden bij het printen van het document.\");\r\n        this.closePopup(); // Close the popup on error\r\n      }\r\n    },\r\n    goToOrderOverview() {\r\n      this.$router.push({ name: \"Bestellingen\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderDetails.vue?vue&type=template&id=8c9930e8\"\nimport script from \"./OrderDetails.vue?vue&type=script&lang=js\"\nexport * from \"./OrderDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\r\nimport OrderOverview from \"./components/OrderOverview.vue\";\r\nimport OrderDetails from \"./components/OrderDetails.vue\";\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/index.html\",\r\n    name: \"Home\",\r\n    props: true,\r\n  },\r\n  {\r\n    path: \"/bestellingen\",\r\n    name: \"Bestellingen\",\r\n    component: OrderOverview,\r\n  },\r\n  {\r\n    path: \"/bestellingen/:id\",\r\n    name: \"OrderDetails\",\r\n    component: OrderDetails,\r\n    props: true,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n","<template>\r\n  <div>\r\n    <LoginComponent\r\n      v-if=\"!token\"\r\n      :api-base-url=\"apiBaseUrl\"\r\n      :translations=\"translations\"\r\n      @login-success=\"setToken\"\r\n    />\r\n    <div v-else>\r\n      <HeaderComponent\r\n        :api-base-url=\"apiBaseUrl\"\r\n        :translations=\"translations\"\r\n        :disable-focus=\"disableFocus\"\r\n        :token=\"token\"\r\n        :user=\"user\"\r\n        @product-scanned=\"addProductToOrder\"\r\n        @logout=\"logout\"\r\n      />\r\n      <div class=\"container-fluid main-content\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2\">\r\n            <SidebarComponent />\r\n          </div>\r\n          <div class=\"col-5\" style=\"padding: 20px\">\r\n            <router-view\r\n              :api-base-url=\"apiBaseUrl\"\r\n              :orderItems=\"orderItems\"\r\n              :translations=\"translations\"\r\n              :token=\"token\"\r\n              @focus-state-change=\"updateFocusState\"\r\n            />\r\n          </div>\r\n          <div class=\"col-5\">\r\n            <CashRegister\r\n              :api-base-url=\"apiBaseUrl\"\r\n              :orderItems=\"orderItems\"\r\n              :translations=\"translations\"\r\n              :token=\"token\"\r\n              @remove-item=\"removeProductFromOrder\"\r\n              @update-quantity=\"updateItemQuantity\"\r\n              @set-quantity=\"setItemQuantity\"\r\n              @clear-order-items=\"clearOrderItems\"\r\n              @modal-state-change=\"updateModalState\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ErrorPopup ref=\"errorPopup\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginComponent from \"./components/LoginComponent.vue\";\r\nimport CashRegister from \"./components/CashRegister.vue\";\r\nimport HeaderComponent from \"./components/HeaderComponent.vue\";\r\nimport SidebarComponent from \"./components/SidebarComponent.vue\";\r\nimport ErrorPopup from \"./components/ErrorPopup.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    LoginComponent,\r\n    CashRegister,\r\n    HeaderComponent,\r\n    SidebarComponent,\r\n    ErrorPopup,\r\n  },\r\n  watch: {\r\n    token(newToken) {\r\n      if (newToken) {\r\n        // If the user logs in, start tracking inactivity\r\n        this.setupInactivityListener();\r\n      } else {\r\n        // If the user logs out, stop tracking inactivity\r\n        this.cleanupInactivityListener();\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      orderItems: [],\r\n      token: null,\r\n      user: null,\r\n      disableFocus: false,\r\n      inactivityTimeout: null,\r\n      tokenExpirationTime: null, // Timestamp when the token will expire\r\n      tokenExchangeTimeout: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCurrentOrder() {\r\n      try {\r\n        const response = await axios.get(`${this.apiBaseUrl}/orders/current`, {\r\n          headers: { Authorization: `Bearer ${this.token}` },\r\n        });\r\n\r\n        // Extract lines safely\r\n        const cart = response.data?.data?.cart;\r\n        if (cart && Array.isArray(cart.lines)) {\r\n          this.orderItems = cart.lines.map((line) => ({\r\n            product_id: line.product_id,\r\n            refcode: line.reference,\r\n            name: line.name,\r\n            price_tax_incl: line.price_tax_incl,\r\n            price_tax_excl: line.price_tax_excl,\r\n            quantity: line.quantity,\r\n            image_url: line.image_url,\r\n          }));\r\n        } else {\r\n          console.warn(\"No cart or lines data available in the response.\");\r\n          this.orderItems = [];\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching current order:\", error);\r\n      }\r\n    },\r\n    async addProductToOrder(product) {\r\n      // Find if the product is already in the order\r\n      let existingItem = this.orderItems.find(\r\n        (item) => item.refcode === product.refcode\r\n      );\r\n\r\n      // Check local stock before making the API call\r\n      if (existingItem && existingItem.quantity + 1 > product.stock) {\r\n        alert(`Cannot add more than available stock of ${product.stock}`);\r\n        return; // Exit without updating if it exceeds stock\r\n      } else if (!existingItem && product.stock < 1) {\r\n        alert(this.translations.outOfStock);\r\n        return;\r\n      }\r\n\r\n      // Make the API request to add the product to the order\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/orders/add-product-to-order`,\r\n          { refcode: product.refcode, quantity: 1 },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        // Check response for OUT_OF_STOCK error\r\n        if (\r\n          response.data.status === \"fail\" &&\r\n          response.data.data.code === \"OUT_OF_STOCK\"\r\n        ) {\r\n          const quantityAvailable = response.data.data.quantityAvailable;\r\n          alert(\r\n            `Only ${quantityAvailable} items are available in stock. Please adjust your quantity.`\r\n          );\r\n\r\n          // Adjust existing item quantity in UI to match available stock\r\n          if (existingItem) {\r\n            existingItem.quantity = quantityAvailable;\r\n          }\r\n          return; // Exit without adding further items\r\n        }\r\n\r\n        // If the response is successful, update orderItems in the UI\r\n        if (existingItem) {\r\n          existingItem.quantity += 1;\r\n        } else {\r\n          this.orderItems.push({\r\n            ...product,\r\n            quantity: 1,\r\n          });\r\n        }\r\n\r\n        console.log(\"Updated order summary:\", response.data);\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 422) {\r\n          this.$refs.errorPopup.showPopup(this.translations.outOfStock);\r\n        } else {\r\n          console.error(\"Error adding product to order:\", error);\r\n        }\r\n      }\r\n    },\r\n    async removeProductFromOrder(refcode) {\r\n      const previousItems = [...this.orderItems];\r\n      this.orderItems = this.orderItems.filter(\r\n        (item) => item.refcode !== refcode\r\n      );\r\n\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/orders/delete-product-from-order`,\r\n          {\r\n            refcode: refcode,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.data.status === \"success\") {\r\n          console.log(\"Item successfully deleted from the order.\");\r\n        } else if (response.data.status === \"fail\") {\r\n          this.handleError(response.data.data);\r\n          this.orderItems = previousItems; // Restore previous items\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error removing product from order:\", error);\r\n        this.orderItems = previousItems; // Restore previous items\r\n      }\r\n    },\r\n    async updateItemQuantity({ refcode, quantity }) {\r\n      const itemIndex = this.orderItems.findIndex(\r\n        (item) => item.refcode === refcode\r\n      );\r\n\r\n      if (itemIndex !== -1) {\r\n        const item = this.orderItems[itemIndex];\r\n        const newQuantity = item.quantity + quantity;\r\n\r\n        // If the quantity is zero, call removeProductFromOrder and exit\r\n        if (newQuantity <= 0) {\r\n          this.removeProductFromOrder(refcode); // Call remove method\r\n          return; // Exit the function without further processing\r\n        }\r\n\r\n        // Check stock before updating\r\n        if (newQuantity > item.stock) {\r\n          alert(`Cannot update quantity. Available stock is ${item.stock}.`);\r\n          return; // Exit without updating if it exceeds stock\r\n        }\r\n\r\n        // Make the API call to update quantity\r\n        try {\r\n          const response = await axios.post(\r\n            `${this.apiBaseUrl}/orders/change-quantity`,\r\n            { refcode: refcode, quantity: newQuantity },\r\n            {\r\n              headers: { Authorization: `Bearer ${this.token}` },\r\n            }\r\n          );\r\n\r\n          // Check for OUT_OF_STOCK error in response\r\n          if (\r\n            response.data.status === \"fail\" &&\r\n            response.data.data.code === \"OUT_OF_STOCK\"\r\n          ) {\r\n            const quantityAvailable = response.data.data.quantityAvailable;\r\n            alert(\r\n              `Only ${quantityAvailable} items are available in stock. Please adjust your quantity.`\r\n            );\r\n\r\n            // Adjust the item quantity if it exceeds available stock\r\n            item.quantity = quantityAvailable;\r\n            return; // Exit without adding further items\r\n          }\r\n\r\n          // If the response is successful, update the orderItems in the UI\r\n          item.quantity = newQuantity;\r\n\r\n          console.log(\"Updated order summary:\", response.data);\r\n\r\n          // Optional: Recalculate total price if necessary\r\n          this.updateTotalPrice();\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 422) {\r\n            this.$refs.errorPopup.showPopup(this.translations.outOfStock);\r\n          } else {\r\n            console.error(\"Error updating product quantity:\", error);\r\n          }\r\n        }\r\n      } else {\r\n        console.error(`Item with refcode ${refcode} not found in the order.`);\r\n      }\r\n    },\r\n    async setItemQuantity({ refcode, setQuantity }) {\r\n      const itemIndex = this.orderItems.findIndex(\r\n        (item) => item.refcode === refcode\r\n      );\r\n\r\n      if (itemIndex !== -1) {\r\n        const item = this.orderItems[itemIndex];\r\n\r\n        // Check if the requested quantity exceeds stock\r\n        if (setQuantity > item.stock) {\r\n          this.$refs.errorPopup.showPopup(\r\n            `Requested quantity of ${setQuantity} exceeds available stock of ${item.stock}.`\r\n          );\r\n          return; // Prevent further processing if quantity exceeds stock\r\n        }\r\n\r\n        // API call to update quantity on the server\r\n        try {\r\n          const response = await axios.post(\r\n            `${this.apiBaseUrl}/orders/change-quantity`,\r\n            { refcode: refcode, quantity: setQuantity },\r\n            {\r\n              headers: { Authorization: `Bearer ${this.token}` },\r\n            }\r\n          );\r\n\r\n          // Handle stock errors from the API response\r\n          if (\r\n            response.data.status === \"fail\" &&\r\n            response.data.data.code === \"OUT_OF_STOCK\"\r\n          ) {\r\n            const quantityAvailable = response.data.data.quantityAvailable;\r\n            this.$refs.errorPopup.showPopup(\r\n              `Only ${quantityAvailable} items are available. Adjusting quantity to available stock.`\r\n            );\r\n            item.quantity = quantityAvailable; // Set quantity to available stock\r\n            return; // Exit if out of stock\r\n          }\r\n\r\n          // If the response is successful, update the orderItems in the UI\r\n          item.quantity = setQuantity;\r\n          console.log(\"Quantity successfully updated:\", response.data);\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 422) {\r\n            this.$refs.errorPopup.showPopup(this.translations.outOfStock);\r\n          } else {\r\n            console.error(\"Error updating quantity:\", error);\r\n          }\r\n        }\r\n      } else {\r\n        console.error(`Item with refcode ${refcode} not found in the order.`);\r\n      }\r\n    },\r\n    clearOrderItems() {\r\n      this.orderItems = [];\r\n    },\r\n    updateModalState(state) {\r\n      this.disableFocus = state; // Disable focus when modal is shown\r\n    },\r\n    updateFocusState(isFocused) {\r\n      this.disableFocus = isFocused;\r\n    },\r\n    logout() {\r\n      // Remove the token and workstation from localStorage\r\n      this.clearTokenData();\r\n    },\r\n    resetInactivityTimer() {\r\n      // Clear the existing timeout\r\n      if (this.inactivityTimeout) {\r\n        clearTimeout(this.inactivityTimeout);\r\n      }\r\n\r\n      // Set a new timeout for 15 minutes\r\n      this.inactivityTimeout = setTimeout(() => {\r\n        this.logout();\r\n      }, 15 * 60 * 1000); // 15 minutes in milliseconds\r\n    },\r\n    setupInactivityListener() {\r\n      // Events that reset the inactivity timer\r\n      const events = [\"mousemove\", \"keydown\", \"click\", \"scroll\"];\r\n\r\n      // Add listeners to reset the timer on user interaction\r\n      events.forEach((event) => {\r\n        window.addEventListener(event, this.resetInactivityTimer);\r\n      });\r\n\r\n      // Start the initial inactivity timer\r\n      this.resetInactivityTimer();\r\n    },\r\n    cleanupInactivityListener() {\r\n      // Clear the timeout\r\n      if (this.inactivityTimeout) {\r\n        clearTimeout(this.inactivityTimeout);\r\n      }\r\n\r\n      // Remove event listeners\r\n      const events = [\"mousemove\", \"keydown\", \"click\", \"scroll\"];\r\n      events.forEach((event) => {\r\n        window.removeEventListener(event, this.resetInactivityTimer);\r\n      });\r\n    },\r\n    async setToken(token, isExchange = false) {\r\n      try {\r\n        const response = await axios.get(`${this.apiBaseUrl}/token`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        if (response.data.status === \"success\") {\r\n          const { firstname, lastname, token: tokenData } = response.data.data;\r\n          const { expiresIn } = tokenData; // Extract expiresIn from the token object\r\n\r\n          this.token = token;\r\n          this.user = { firstName: firstname, lastName: lastname };\r\n\r\n          console.log(\"ExpiresIn received:\", expiresIn);\r\n          console.log(\"Full API response:\", response.data);\r\n\r\n          // Calculate and store the token expiration time\r\n          this.tokenExpirationTime = Date.now() + expiresIn * 1000;\r\n          localStorage.setItem(\"authToken\", token);\r\n          localStorage.setItem(\"userFirstName\", firstname);\r\n          localStorage.setItem(\"userLastName\", lastname);\r\n          localStorage.setItem(\"tokenExpirationTime\", this.tokenExpirationTime);\r\n\r\n          // Schedule token exchange if it's not during an exchange call\r\n          if (!isExchange) {\r\n            this.scheduleTokenExchange(expiresIn);\r\n          }\r\n          return true;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error validating token:\", error);\r\n      }\r\n\r\n      this.clearTokenData();\r\n      return false;\r\n    },\r\n    scheduleTokenExchange(expiresIn) {\r\n      if (!expiresIn || isNaN(expiresIn)) {\r\n        console.error(\r\n          \"Invalid expiresIn value. Cannot schedule token exchange.\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      const exchangeInMs = (expiresIn - 300) * 1000;\r\n\r\n      if (exchangeInMs <= 0) {\r\n        console.warn(\"Token has less than 60 seconds. Exchanging immediately.\");\r\n        this.exchangeToken();\r\n        return;\r\n      }\r\n\r\n      if (this.tokenExchangeTimeout) {\r\n        clearTimeout(this.tokenExchangeTimeout);\r\n      }\r\n\r\n      this.tokenExchangeTimeout = setTimeout(() => {\r\n        this.exchangeToken();\r\n      }, exchangeInMs);\r\n\r\n      console.log(\r\n        `Token exchange scheduled in ${(exchangeInMs / 1000).toFixed(\r\n          1\r\n        )} seconds.`\r\n      );\r\n    },\r\n    async exchangeToken() {\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/token/exchange`,\r\n          {},\r\n          {\r\n            headers: { Authorization: `Bearer ${this.token}` },\r\n          }\r\n        );\r\n\r\n        if (response.status === 200) {\r\n          const newToken = response.data.data.token.value;\r\n          console.log(\"Token exchanged successfully.\");\r\n          await this.setToken(newToken, true); // Pass true to avoid rescheduling\r\n        } else {\r\n          console.warn(\"Token exchange failed. Logging out.\");\r\n          this.logout();\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error exchanging token:\", error);\r\n        this.logout();\r\n      }\r\n    },\r\n    clearTokenData() {\r\n      this.token = null;\r\n      this.user = null;\r\n      this.tokenExpirationTime = null;\r\n\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"userFirstName\");\r\n      localStorage.removeItem(\"userLastName\");\r\n      localStorage.removeItem(\"tokenExpirationTime\");\r\n\r\n      if (this.tokenExchangeTimeout) clearTimeout(this.tokenExchangeTimeout);\r\n    },\r\n    handleError(errorData) {\r\n      switch (errorData.code) {\r\n        case \"NOT_FOUND\":\r\n          console.error(\"Product not found:\", errorData.message);\r\n          break;\r\n        case \"BAD_REQUEST\":\r\n          console.error(\"Bad request:\", errorData.message);\r\n          break;\r\n        case \"OUT_OF_STOCK\":\r\n          console.error(\"Out of stock:\", errorData.message);\r\n          alert(\"This product is currently out of stock.\");\r\n          break;\r\n        case \"MINIMAL_QUANTITY_REQUIRED\":\r\n          console.error(\"Minimum quantity required:\", errorData.message);\r\n          break;\r\n        default:\r\n          console.error(\"An unknown error occurred.\");\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    const storedToken = localStorage.getItem(\"authToken\");\r\n    const storedExpirationTime = parseInt(\r\n      localStorage.getItem(\"tokenExpirationTime\"),\r\n      10\r\n    );\r\n\r\n    if (storedToken && storedExpirationTime > Date.now()) {\r\n      const expiresIn = (storedExpirationTime - Date.now()) / 1000;\r\n\r\n      this.setToken(storedToken).then((isValid) => {\r\n        if (isValid) {\r\n          this.scheduleTokenExchange(expiresIn);\r\n          this.fetchCurrentOrder(); // Fetch order only if token is valid\r\n        } else {\r\n          console.warn(\"Stored token is invalid. Logging out.\");\r\n          this.logout();\r\n        }\r\n      });\r\n    } else {\r\n      console.warn(\"No valid token found. Redirecting to login.\");\r\n      this.logout();\r\n    }\r\n    if (this.token) {\r\n      this.fetchCurrentOrder();\r\n      this.setupInactivityListener();\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    if (this.tokenExchangeTimeout) {\r\n      clearTimeout(this.tokenExchangeTimeout); // Clean up the timer\r\n    }\r\n    this.cleanupInactivityListener();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"login-container\">\r\n    <h2 class=\"login-title\">Login</h2>\r\n    <form @submit.prevent=\"handleLogin\" class=\"login-form\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\" class=\"form-label\">Gebruikersnaam</label>\r\n        <input\r\n          id=\"username\"\r\n          v-model=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Gebruikersnaam\"\r\n          class=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\" class=\"form-label\">Wachtwoord</label>\r\n        <input\r\n          id=\"password\"\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Wachtwoord\"\r\n          class=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"workstation\" class=\"form-label\">Kassa</label>\r\n        <select\r\n          v-model=\"workstationId\"\r\n          id=\"workstation\"\r\n          class=\"form-select\"\r\n          required\r\n        >\r\n          <option v-for=\"ws in workstations\" :key=\"ws.id\" :value=\"ws.id\">\r\n            {{ ws.name }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <button type=\"submit\" class=\"login-button\">Inloggen</button>\r\n    </form>\r\n    <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      role: \"cashier\",\r\n      workstationId: null,\r\n      workstations: [],\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      // Fetch workstations from the API\r\n      const response = await axios.get(\r\n        `${this.$props.apiBaseUrl}/workstations`\r\n      );\r\n      this.workstations = response.data.data;\r\n\r\n      // Check localStorage for a saved workstation ID\r\n      const savedWorkstationId = localStorage.getItem(\"lastWorkstationId\");\r\n      if (\r\n        savedWorkstationId &&\r\n        this.workstations.some((ws) => ws.id === savedWorkstationId)\r\n      ) {\r\n        this.workstationId = savedWorkstationId; // Preselect saved workstation\r\n      }\r\n    } catch (error) {\r\n      this.errorMessage = \"Failed to load workstations.\";\r\n    }\r\n  },\r\n  methods: {\r\n    async handleLogin() {\r\n      try {\r\n        if (!this.workstationId) {\r\n          this.errorMessage = \"Please select a workstation.\";\r\n          return;\r\n        }\r\n\r\n        const response = await axios.post(`${this.$props.apiBaseUrl}/users`, {\r\n          username: this.username,\r\n          password: this.password,\r\n          role: this.role,\r\n          workstationId: this.workstationId,\r\n        });\r\n\r\n        const { token, expiresIn } = response.data.data; // Ensure 'expiresIn' is included in the response\r\n        console.log(\"Token received from login:\", token); // Debugging\r\n\r\n        // Save the selected workstation in localStorage\r\n        localStorage.setItem(\"lastWorkstationId\", this.workstationId);\r\n\r\n        // Calculate and store token expiration time\r\n        const tokenExpirationTime = Date.now() + expiresIn * 1000; // Convert seconds to milliseconds\r\n        localStorage.setItem(\"tokenExpirationTime\", tokenExpirationTime);\r\n\r\n        // Emit token to parent component (app.vue)\r\n        this.$emit(\"login-success\", token.value);\r\n      } catch (error) {\r\n        this.errorMessage = this.translations.loginFailed;\r\n        console.error(\"Login error:\", error);\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LoginComponent.vue?vue&type=template&id=f5dda1ce\"\nimport script from \"./LoginComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <OrderSummary\r\n      :api-base-url=\"apiBaseUrl\"\r\n      :orderItems=\"orderItems\"\r\n      :translations=\"translations\"\r\n      :token=\"token\"\r\n      @remove-item=\"removeProductFromOrder\"\r\n      @update-quantity=\"updateItemQuantity\"\r\n      @set-quantity=\"setItemQuantity\"\r\n      @clear-order-items=\"forwardClearOrderItems\"\r\n      @modal-state-change=\"forwardModalStateChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderSummary from \"./OrderSummary.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    OrderSummary,\r\n  },\r\n  props: {\r\n    orderItems: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    removeProductFromOrder(refcode) {\r\n      this.$emit(\"remove-item\", refcode);\r\n    },\r\n    updateItemQuantity(payload) {\r\n      this.$emit(\"update-quantity\", payload);\r\n    },\r\n    setItemQuantity(payload) {\r\n      this.$emit(\"set-quantity\", payload);\r\n    },\r\n    forwardClearOrderItems() {\r\n      this.$emit(\"clear-order-items\");\r\n    },\r\n    forwardModalStateChange(state) {\r\n      this.$emit(\"modal-state-change\", state);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"order-summary\">\r\n    <div class=\"space\" style=\"height: 50px\"></div>\r\n    <div ref=\"orderList\" class=\"order-items-list\">\r\n      <div\r\n        v-for=\"item in orderItems\"\r\n        :key=\"item.refcode\"\r\n        :class=\"[\r\n          'order-item',\r\n          {\r\n            selected:\r\n              selectedProduct && selectedProduct.refcode === item.refcode,\r\n          },\r\n        ]\"\r\n        @click=\"selectProduct(item)\"\r\n      >\r\n        <img :src=\"item.image_url\" :alt=\"item.name\" class=\"product-image\" />\r\n\r\n        <div class=\"item-details\">\r\n          <div class=\"item-header\">\r\n            <span class=\"product-name\">{{ item.name }}</span>\r\n            <span class=\"product-price\">\r\n              â‚¬{{\r\n                item.price_tax_incl ? item.price_tax_incl.toFixed(2) : \"0.00\"\r\n              }}\r\n              <span style=\"font-weight: normal\">(incl. btw)</span>\r\n            </span>\r\n\r\n            <span class=\"product-price1\"\r\n              >â‚¬{{ item.price_tax_excl.toFixed(2) }}\r\n              <span style=\"font-weight: normal\">(excl. btw)</span></span\r\n            >\r\n          </div>\r\n\r\n          <div class=\"quantity-controls\">\r\n            <button\r\n              @click=\"\r\n                $emit('update-quantity', {\r\n                  refcode: item.refcode,\r\n                  quantity: -1,\r\n                })\r\n              \"\r\n              class=\"quantity-button\"\r\n            >\r\n              <i class=\"fa-solid fa-minus\"></i>\r\n            </button>\r\n            <div class=\"quantity-wrapper\">\r\n              <input\r\n                v-if=\"\r\n                  quantityEditable &&\r\n                  selectedProduct &&\r\n                  selectedProduct.refcode === item.refcode\r\n                \"\r\n                v-model=\"editableQuantity\"\r\n                type=\"number\"\r\n                class=\"editable-quantity\"\r\n                @click.stop\r\n              />\r\n              <button\r\n                v-if=\"\r\n                  quantityEditable &&\r\n                  selectedProduct &&\r\n                  selectedProduct.refcode === item.refcode\r\n                \"\r\n                @click=\"confirmQuantity\"\r\n                class=\"checkmark-button\"\r\n              >\r\n                <i class=\"fa-solid fa-check\"></i>\r\n              </button>\r\n              <div v-else class=\"quantity-counter\">{{ item.quantity }}</div>\r\n            </div>\r\n            <button\r\n              @click=\"\r\n                $emit('update-quantity', { refcode: item.refcode, quantity: 1 })\r\n              \"\r\n              class=\"quantity-button\"\r\n            >\r\n              <i class=\"fa-solid fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <button @click=\"removeItem(item.refcode)\" class=\"delete-button\">\r\n          <i class=\"fa-solid fa-trash-can\"></i>\r\n        </button>\r\n      </div>\r\n      <div class=\"scroll-spacer\"></div>\r\n    </div>\r\n\r\n    <div class=\"bottom-section\">\r\n      <div class=\"keyboard\">\r\n        <div class=\"keyboard-row\">\r\n          <button @click=\"setQuantityMode\">Aant.</button>\r\n          <button @click=\"handleKeyPress(1)\">1</button>\r\n          <button @click=\"handleKeyPress(2)\">2</button>\r\n          <button @click=\"handleKeyPress(3)\">3</button>\r\n        </div>\r\n        <div class=\"keyboard-row\">\r\n          <button @click=\"editFlatDiscount\">Prijs</button>\r\n          <button @click=\"handleKeyPress(4)\">4</button>\r\n          <button @click=\"handleKeyPress(5)\">5</button>\r\n          <button @click=\"handleKeyPress(6)\">6</button>\r\n        </div>\r\n        <div class=\"keyboard-row\">\r\n          <button @click=\"editDiscount\">%</button>\r\n          <button @click=\"handleKeyPress(7)\">7</button>\r\n          <button @click=\"handleKeyPress(8)\">8</button>\r\n          <button @click=\"handleKeyPress(9)\">9</button>\r\n        </div>\r\n        <div class=\"keyboard-row\">\r\n          <button @click=\"handleKeyPress('delete')\">Del</button>\r\n          <button>+/-</button>\r\n          <button @click=\"handleKeyPress(0)\">0</button>\r\n          <button @click=\"handleKeyPress('.')\">.</button>\r\n        </div>\r\n        <button class=\"customer-button\">\r\n          <div class=\"user-icon\">\r\n            <i class=\"fas fa-user\"></i>\r\n          </div>\r\n          Klant\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"summary-of-costs\">\r\n        <div class=\"cost-item\">\r\n          Subtotaal <span class=\"price\">â‚¬{{ subtotal.toFixed(2) }}</span>\r\n        </div>\r\n        <div class=\"cost-item\">\r\n          Korting\r\n          <span v-if=\"!discountEditable && !flatDiscountEditable\" class=\"price\">\r\n            â‚¬{{ discount.toFixed(2) }}\r\n          </span>\r\n\r\n          <!-- Percentage Discount Input -->\r\n          <div\r\n            class=\"discount-input-wrapper\"\r\n            :class=\"{ hidden: !discountEditable }\"\r\n          >\r\n            <input\r\n              v-model=\"discountPercentage\"\r\n              type=\"text\"\r\n              class=\"discount-input\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n            />\r\n            <button\r\n              @click=\"confirmDiscount('percentage')\"\r\n              class=\"checkmark-button\"\r\n            >\r\n              <i class=\"fa-solid fa-check\"></i>\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Flat Amount Discount Input -->\r\n          <div\r\n            class=\"discount-input-wrapper\"\r\n            :class=\"{ hidden: !flatDiscountEditable }\"\r\n          >\r\n            <input\r\n              v-model=\"flatDiscountAmount\"\r\n              type=\"text\"\r\n              class=\"discount-input\"\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n            />\r\n            <button @click=\"confirmDiscount('amount')\" class=\"checkmark-button\">\r\n              <i class=\"fa-solid fa-check\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"cost-item\">\r\n          Btw <span class=\"price\">â‚¬{{ vat.toFixed(2) }}</span>\r\n        </div>\r\n        <div class=\"cost-item-total\">\r\n          Totaalprijs\r\n          <span class=\"total-price\">â‚¬{{ totalPrice.toFixed(2) }}</span>\r\n        </div>\r\n        <button class=\"checkout-button\" @click=\"openModal\">\r\n          Doorgaan naar afrekenen\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"showPopup\" class=\"popup-overlay\">\r\n      <div class=\"popup-message\">\r\n        <p>\r\n          {{ this.translations.invalidDiscount }}\r\n        </p>\r\n        <button @click=\"closePopup\">Sluiten</button>\r\n      </div>\r\n    </div>\r\n    <!-- Checkout Modal -->\r\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click.self=\"closeModal\">\r\n      <div class=\"modal-content\">\r\n        <h2>Betalen</h2>\r\n\r\n        <div class=\"order-items-scrollable\">\r\n          <div\r\n            v-for=\"item in orderItems\"\r\n            :key=\"item.refcode\"\r\n            class=\"modal-order-item\"\r\n          >\r\n            <div class=\"item-info\">\r\n              <span class=\"product-name1\">{{ item.name }}</span>\r\n              <span class=\"product-quantity\">x{{ item.quantity }}</span>\r\n              <span class=\"product-pricee\"\r\n                >â‚¬{{ item.price_tax_incl.toFixed(2) }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <p class=\"total-price1\">Totaalprijs: â‚¬{{ totalPrice.toFixed(2) }}</p>\r\n\r\n        <div class=\"payment-methods\">\r\n          <h3>Selecteer Betaalmethode</h3>\r\n          <label>\r\n            <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"cash\" />\r\n            Contant\r\n          </label>\r\n          <label>\r\n            <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"card\" />\r\n            Kaart\r\n          </label>\r\n\r\n          <div v-if=\"selectedPaymentMethod === 'cash'\" class=\"cash-fields\">\r\n            <input\r\n              type=\"number\"\r\n              v-model.number=\"cashReceived\"\r\n              class=\"received-input\"\r\n              placeholder=\"Ontvangen bedrag\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              class=\"change-input\"\r\n              :value=\"calculateChange\"\r\n              placeholder=\"Wisselgeld\"\r\n              readonly\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"showPaymentWarning\" class=\"payment-warning\">\r\n            {{ this.translations.paymentWarning }}\r\n          </p>\r\n        </div>\r\n\r\n        <button @click=\"confirmCheckout\" class=\"confirm-checkout-modal\">\r\n          Bevestig Betaling\r\n        </button>\r\n        <button @click=\"closeModal\" class=\"close-modal\">Sluiten</button>\r\n      </div>\r\n    </div>\r\n    <!-- Confirmation Popup -->\r\n    <div v-if=\"showPaymentConfirmation\" class=\"confirmation-popup-overlay\">\r\n      <div class=\"confirmation-popup\">\r\n        <p>{{ this.translations.paymentConfirmation }}</p>\r\n        <button @click=\"handlePaymentConfirmation(true)\">Ja</button>\r\n        <button @click=\"handlePaymentConfirmation(false)\">Nee</button>\r\n      </div>\r\n    </div>\r\n    <!-- Receipt Popup -->\r\n    <div v-if=\"showReceiptPopup\" class=\"confirmation-popup-overlay\">\r\n      <div class=\"confirmation-popup\">\r\n        <p>{{ this.translations.receiptConfirmation }}</p>\r\n        <button @click=\"handleReceiptSelection(true)\">Ja</button>\r\n        <button @click=\"handleReceiptSelection(false)\">Nee</button>\r\n      </div>\r\n    </div>\r\n    <div id=\"receipt-content\" style=\"display: none\">\r\n      <h2>Receipt</h2>\r\n      <p>Total: â‚¬{{ totalPrice.toFixed(2) }}</p>\r\n      <div\r\n        v-for=\"item in orderItems\"\r\n        :key=\"item.refcode\"\r\n        class=\"modal-order-item\"\r\n      >\r\n        <div class=\"item-info\">\r\n          <span class=\"product-name1\">{{ item.name }}</span>\r\n          <span class=\"product-quantity\">x{{ item.quantity }}</span>\r\n          <span class=\"product-pricee\"\r\n            >â‚¬{{ item.price_tax_incl.toFixed(2) }}</span\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      previousItemCount: 0,\r\n      selectedProduct: null,\r\n      quantityMode: false,\r\n      quantityEditable: false,\r\n      editableQuantity: 0,\r\n      discountEditable: false,\r\n      flatDiscountEditable: false,\r\n      discountPercentage: 0,\r\n      flatDiscountAmount: 0,\r\n      previousDiscountPercentage: 0,\r\n      previousFlatDiscountAmount: 0,\r\n      newTotal: 0,\r\n      cashReceived: 0,\r\n      showPopup: false,\r\n      showModal: false,\r\n      selectedPaymentMethod: null,\r\n      showPaymentWarning: false,\r\n      showPaymentConfirmation: false,\r\n      showReceiptPopup: false,\r\n    };\r\n  },\r\n  props: {\r\n    orderItems: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  watch: {\r\n    orderItems: {\r\n      handler(newItems) {\r\n        // Scroll to the bottom only when an item is added\r\n        if (newItems.length > this.previousItemCount) {\r\n          this.scrollToBottom();\r\n        }\r\n        // Update previous item count for future comparisons\r\n        this.previousItemCount = newItems.length;\r\n      },\r\n      deep: true,\r\n    },\r\n    selectedPaymentMethod(newValue) {\r\n      if (newValue === \"cash\") {\r\n        this.showPaymentWarning = false; // Hide the warning when \"Contant\" is selected\r\n      }\r\n    },\r\n    showModal(newValue) {\r\n      // Emit modal-state-change based on showModal value\r\n      this.$emit(\"modal-state-change\", newValue);\r\n    },\r\n  },\r\n  computed: {\r\n    totalPrice() {\r\n      const discountedSubtotal = this.subtotal - this.discount;\r\n      return discountedSubtotal + this.vat;\r\n    },\r\n    subtotal() {\r\n      return this.orderItems.reduce(\r\n        (total, item) =>\r\n          total + (parseFloat(item.price_tax_excl) || 0) * item.quantity,\r\n        0\r\n      );\r\n    },\r\n    vat() {\r\n      const totalTaxable = this.orderItems.reduce(\r\n        (total, item) =>\r\n          total +\r\n          (parseFloat(item.price_tax_incl) - parseFloat(item.price_tax_excl)) *\r\n            item.quantity,\r\n        0\r\n      );\r\n      return totalTaxable; // Calculated VAT based on the taxable amount\r\n    },\r\n    discount() {\r\n      if (this.flatDiscountAmount > 0) {\r\n        // Use flat discount if set\r\n        return this.flatDiscountAmount;\r\n      } else if (this.discountPercentage > 0) {\r\n        const totalBeforeDiscount = this.subtotal + this.vat; // Calculate discount based on the total price (subtotal + vat)\r\n        return (this.discountPercentage / 100) * totalBeforeDiscount;\r\n      }\r\n      return 0; // No discount\r\n    },\r\n    calculateChange() {\r\n      return (this.cashReceived - this.totalPrice).toFixed(2);\r\n    },\r\n  },\r\n  methods: {\r\n    removeItem(refcode) {\r\n      this.$emit(\"remove-item\", refcode);\r\n    },\r\n    selectProduct(product) {\r\n      this.selectedProduct = product;\r\n      this.editableQuantity = product.quantity;\r\n    },\r\n    setQuantityMode() {\r\n      this.quantityEditable = true;\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const orderList = this.$refs.orderList;\r\n        if (orderList) {\r\n          orderList.scrollTop = orderList.scrollHeight;\r\n        }\r\n      });\r\n    },\r\n    handleKeyPress(key) {\r\n      if (this.selectedProduct && this.quantityEditable) {\r\n        // Handle quantity input\r\n        this.handleInput(\"editableQuantity\", key);\r\n      } else if (this.discountEditable) {\r\n        // Handle percentage discount input\r\n        this.handleInput(\"discountPercentage\", key);\r\n      } else if (this.flatDiscountEditable) {\r\n        // Handle flat discount input\r\n        this.handleInput(\"flatDiscountAmount\", key);\r\n      }\r\n    },\r\n\r\n    handleInput(field, key) {\r\n      const currentValue = this[field]?.toString() || \"0\";\r\n\r\n      if (!isNaN(key)) {\r\n        // Append numeric key\r\n        this[field] =\r\n          currentValue === \"0\" ? key.toString() : currentValue + key.toString();\r\n      } else if (key === \"delete\") {\r\n        // Remove the last character\r\n        this[field] = currentValue.slice(0, -1) || \"0\";\r\n      } else if (key === \".\") {\r\n        // Append a dot if not already present\r\n        if (!currentValue.includes(\".\")) {\r\n          this[field] = currentValue + \".\";\r\n        }\r\n      } else if (key === \"enter\") {\r\n        // Convert the input to a number when confirmed\r\n        this[field] = parseFloat(this[field]) || 0;\r\n      }\r\n    },\r\n    confirmQuantity() {\r\n      const newQuantity = parseInt(this.editableQuantity, 10);\r\n      if (isNaN(newQuantity) || this.editableQuantity === \"\") {\r\n        this.editableQuantity = this.selectedProduct.quantity; // Reset editable quantity to the original\r\n        this.quantityEditable = false;\r\n        return;\r\n      }\r\n\r\n      if (newQuantity === 0) {\r\n        this.$emit(\"remove-item\", this.selectedProduct.refcode);\r\n      } else {\r\n        this.$emit(\"set-quantity\", {\r\n          refcode: this.selectedProduct.refcode,\r\n          setQuantity: newQuantity,\r\n        });\r\n      }\r\n      this.quantityEditable = false;\r\n    },\r\n    handleOutsideClick(event) {\r\n      if (this.quantityEditable && !this.$el.contains(event.target)) {\r\n        this.confirmQuantity();\r\n      }\r\n    },\r\n    editDiscount() {\r\n      this.discountEditable = true;\r\n      this.flatDiscountEditable = false; // Ensure flat discount is not active\r\n    },\r\n    editFlatDiscount() {\r\n      this.flatDiscountEditable = true;\r\n      this.discountEditable = false; // Ensure percentage discount is not active\r\n    },\r\n    startEditingDiscount() {\r\n      this.previousDiscountPercentage = this.discountPercentage; // Save the current value\r\n      this.discountEditable = true; // Allow editing\r\n    },\r\n    confirmDiscount(type) {\r\n      if (type === \"percentage\") {\r\n        if (this.discountPercentage < 0 || this.discountPercentage > 100) {\r\n          // Display the popup for invalid percentage\r\n          this.showPopup = true;\r\n          return;\r\n        }\r\n        this.flatDiscountAmount = 0; // Clear flat discount\r\n        this.discountEditable = false;\r\n      } else if (type === \"amount\") {\r\n        if (\r\n          this.flatDiscountAmount < 0 ||\r\n          this.flatDiscountAmount > this.subtotal + this.vat\r\n        ) {\r\n          // Display the popup for invalid amount\r\n          this.showPopup = true;\r\n          return;\r\n        }\r\n\r\n        this.discountPercentage = 0; // Clear percentage discount\r\n        this.flatDiscountEditable = false;\r\n      }\r\n\r\n      // Ensure the values are numbers\r\n      this.discountPercentage = parseFloat(this.discountPercentage) || 0;\r\n      this.flatDiscountAmount = parseFloat(this.flatDiscountAmount) || 0;\r\n\r\n      // Optionally send data to the server\r\n      const discountPayload = {\r\n        discount_type: type,\r\n        value:\r\n          type === \"percentage\"\r\n            ? this.discountPercentage\r\n            : this.flatDiscountAmount,\r\n      };\r\n\r\n      fetch(`${this.apiBaseUrl}/orders/apply-discount`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${this.token}`,\r\n        },\r\n        body: JSON.stringify(discountPayload),\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`Server error: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (data && data.new_total) {\r\n            this.newTotal = data.new_total;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error applying discount:\", error);\r\n        });\r\n    },\r\n    // Method to close the popup\r\n    closePopup() {\r\n      this.showPopup = false; // Hide the popup\r\n      this.discountPercentage = this.previousDiscountPercentage || 0;\r\n      this.flatDiscountAmount = this.previousFlatDiscountAmount || 0;\r\n    },\r\n    openModal() {\r\n      this.showModal = true;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false; // Hide modal\r\n      this.showPaymentWarning = false;\r\n      this.selectedPaymentMethod = null;\r\n    },\r\n    async confirmCheckout() {\r\n      if (!this.selectedPaymentMethod) {\r\n        this.showPaymentWarning = true;\r\n        return;\r\n      }\r\n\r\n      // Show confirmation popup after payment attempt\r\n      this.showPaymentConfirmation = true;\r\n      this.showPaymentWarning = false;\r\n    },\r\n    async createNewOrder() {\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/orders/new`,\r\n          {},\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        this.handleNewOrderResponse(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error creating new order:\", error);\r\n      }\r\n    },\r\n    async cancelOrder() {\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/orders/cancel`,\r\n          {},\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        this.handleCancelOrderResponse(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error canceling order:\", error);\r\n      }\r\n    },\r\n    async cancelPayment() {\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/payment/cancel`,\r\n          {},\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        this.handleCancelOrderResponse(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error canceling payment:\", error);\r\n      }\r\n    },\r\n    async handlePaymentConfirmation(success) {\r\n      if (success) {\r\n        // Proceed with successful payment handling\r\n        console.log(\"Payment completed successfully.\");\r\n\r\n        // Determine payment method for the API\r\n        const amount = this.totalPrice.toFixed(2);\r\n        const paymentMethod =\r\n          this.selectedPaymentMethod === \"cash\"\r\n            ? \"CASH\"\r\n            : \"CREDIT_CARD_OFFLINE\";\r\n\r\n        try {\r\n          // Step 1: Call the checkout endpoint\r\n          const checkoutResponse = await axios.post(\r\n            `${this.apiBaseUrl}/checkout`,\r\n            {\r\n              amount: amount,\r\n              paymentMethod: paymentMethod,\r\n            },\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${this.token}`,\r\n              },\r\n            }\r\n          );\r\n\r\n          // Handle the checkout response\r\n          this.handleCheckoutResponse(checkoutResponse.data);\r\n\r\n          // Step 2: Depending on the selected payment method, call the respective payment endpoint\r\n          let paymentResponse;\r\n\r\n          if (this.selectedPaymentMethod === \"cash\") {\r\n            paymentResponse = await axios.post(\r\n              `${this.apiBaseUrl}/payment/cash`,\r\n              { amount, paymentMethod },\r\n              {\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Authorization: `Bearer ${this.token}`,\r\n                },\r\n              }\r\n            );\r\n            // Handle successful cash payment response\r\n            this.handleCashPaymentResponse(paymentResponse.data);\r\n          } else if (this.selectedPaymentMethod === \"card\") {\r\n            paymentResponse = await axios.post(\r\n              `${this.apiBaseUrl}/payment/card`,\r\n              { amount, paymentMethod },\r\n              {\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Authorization: `Bearer ${this.token}`,\r\n                },\r\n              }\r\n            );\r\n            // Handle successful card payment response\r\n            this.handleCardPaymentResponse(paymentResponse.data);\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 400) {\r\n            console.log(\"Checkout failed:\", error.response.data);\r\n          } else {\r\n            console.error(\"An unexpected error occurred:\", error);\r\n          }\r\n        }\r\n\r\n        // Reset states and close popups\r\n        this.showPaymentConfirmation = false;\r\n        this.selectedPaymentMethod = null;\r\n        this.showReceiptPopup = true;\r\n      } else {\r\n        // Close the confirmation popup without proceeding\r\n        this.showPaymentConfirmation = false;\r\n      }\r\n    },\r\n    async handleReceiptSelection(wantsReceipt) {\r\n      this.showReceiptPopup = false;\r\n\r\n      // If the user wants a receipt, print it first\r\n      if (wantsReceipt) {\r\n        this.showModal = false;\r\n        this.printReceipt(); // Print receipt first\r\n        console.log(\"User wants a receipt.\");\r\n      } else {\r\n        this.showModal = false;\r\n        console.log(\"User does not want a receipt.\");\r\n      }\r\n\r\n      // Wait for createNewOrder to complete\r\n      await this.createNewOrder();\r\n\r\n      // Reset the discount input to 0\r\n      this.discountPercentage = 0;\r\n      this.flatDiscountAmount = 0;\r\n\r\n      // Delay clearing the UI state for orderItems by 3 seconds\r\n      setTimeout(() => {\r\n        this.$emit(\"clear-order-items\");\r\n      }, 3000);\r\n    },\r\n    async printReceipt() {\r\n      try {\r\n        // Retrieve all orders with sorting by date (most recent first)\r\n        const ordersResponse = await axios.get(\r\n          `${this.apiBaseUrl}/orders?sort=date_desc&page=1&per_page=1`, // Assuming API supports sorting by date and pagination\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        // Ensure we get a valid order from the response\r\n        const ordersData = ordersResponse.data.data.list;\r\n        if (ordersData.length === 0) {\r\n          alert(\"No orders found.\");\r\n          return;\r\n        }\r\n\r\n        // Get the most recent order (the first in the sorted list)\r\n        const order = ordersData[0];\r\n\r\n        // Log the order ID of the most recent order\r\n        console.log(\"Order ID for printing:\", order.id);\r\n\r\n        // Call the print document endpoint directly with the most recent order ID\r\n        const printResponse = await axios.post(\r\n          `${this.apiBaseUrl}/orders/print-document`,\r\n          {\r\n            order_id: order.id, // Pass the most recent order ID here\r\n            print_type: \"RECEIPT\", // Print type is always 'RECEIPT'\r\n          },\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n        this.handlePrintReceiptResponse(printResponse.data);\r\n      } catch (error) {\r\n        console.error(\"Error printing receipt:\", error);\r\n      }\r\n    },\r\n    handleCheckoutResponse(response) {\r\n      if (response.status === \"success\") {\r\n        // Proceed to payment confirmation step\r\n        this.showPaymentConfirmation = true;\r\n      } else if (response.status === \"fail\") {\r\n        // Handle failure scenarios, e.g., show an error message\r\n        console.error(\"Checkout failed:\", response.data.message);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", this.handleOutsideClick);\r\n  },\r\n  beforeUnmount() {\r\n    document.removeEventListener(\"click\", this.handleOutsideClick);\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./OrderSummary.vue?vue&type=template&id=383b11dc\"\nimport script from \"./OrderSummary.vue?vue&type=script&lang=js\"\nexport * from \"./OrderSummary.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CashRegister.vue?vue&type=template&id=12a7707e\"\nimport script from \"./CashRegister.vue?vue&type=script&lang=js\"\nexport * from \"./CashRegister.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <header>\r\n    <div class=\"header-content\">\r\n      <span class=\"header-title\">Point of Sale</span>\r\n      <div class=\"search-bar\">\r\n        <i class=\"fas fa-magnifying-glass search-icon\"></i>\r\n        <input\r\n          ref=\"searchInput\"\r\n          type=\"text\"\r\n          v-model=\"barcodeInput\"\r\n          @input=\"debouncedOnBarcodeInput\"\r\n          id=\"barcodeInput\"\r\n          placeholder=\"Zoek Product op Naam, Barcode, Product id\"\r\n        />\r\n        <i class=\"fas fa-barcode barcode-icon\"></i>\r\n      </div>\r\n\r\n      <div class=\"user-info\">\r\n        <i class=\"fas fa-user user-image\"></i>\r\n        <span>{{\r\n          user ? `${user.firstName} ${user.lastName}` : \"John Doe\"\r\n        }}</span>\r\n      </div>\r\n\r\n      <div class=\"user-signoff\">\r\n        <i class=\"fas fa-right-from-bracket user-signofficon\"></i>\r\n        <span @click=\"handleLogout\">Afmelden</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Popup for unknown barcode -->\r\n    <div v-if=\"showPopup\" class=\"popup-overlay\">\r\n      <div class=\"popup-message\">\r\n        <p>{{ this.translations.barcodeNotFound }}</p>\r\n        <button @click=\"closePopup\">Sluiten</button>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"HeaderComponent\",\r\n  props: {\r\n    apiBaseUrl: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    translations: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    disableFocus: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default: () => null, // Default to null if no user is provided\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      barcodeInput: \"\",\r\n      showPopup: false,\r\n      debouncedOnBarcodeInput: null,\r\n      focusInterval: null,\r\n    };\r\n  },\r\n  watch: {\r\n    disableFocus(newValue) {\r\n      if (newValue) {\r\n        clearInterval(this.focusInterval); // Stop focusing\r\n      } else {\r\n        this.focusInterval = setInterval(this.maintainFocus, 100); // Resume focusing\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    debounce(func, wait) {\r\n      let timeout;\r\n      return function (...args) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => func.apply(this, args), wait);\r\n      };\r\n    },\r\n    async fetchProduct(term, type = \"BARCODE\") {\r\n      try {\r\n        const response = await axios.post(\r\n          `${this.apiBaseUrl}/products/find`,\r\n          {\r\n            type,\r\n            term,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${this.token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        const jsend = response.data;\r\n\r\n        if (jsend.status === \"success\" && jsend.data.length > 0) {\r\n          return jsend.data; // Return the list of products\r\n        } else {\r\n          return null; // No products found\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching product:\", error);\r\n        this.showPopup = true; // Show popup for fetch error\r\n        return null; // Return null if an error occurs\r\n      }\r\n    },\r\n    async onBarcodeInput() {\r\n      const term = this.barcodeInput.trim();\r\n      if (!term) return;\r\n\r\n      this.showPopup = false; // Hide any existing popups\r\n\r\n      // Determine the type of input\r\n      let type;\r\n      if (/^\\d+$/.test(term)) {\r\n        type = term.length === 12 || term.length === 13 ? \"BARCODE\" : \"ALL\";\r\n      } else if (term.match(/^[a-zA-Z0-9-]+$/)) {\r\n        type = \"REFERENCE\";\r\n      } else {\r\n        type = \"NAME\";\r\n      }\r\n\r\n      // Fetch product based on detected type\r\n      const products = await this.fetchProduct(term, type);\r\n\r\n      if (products && products.length > 0) {\r\n        const product = products[0]; // Handle multiple products (select first for now)\r\n        this.$emit(\"product-scanned\", product);\r\n        this.barcodeInput = \"\"; // Clear input\r\n      } else {\r\n        this.showPopup = true; // Show popup if no product found\r\n      }\r\n    },\r\n    closePopup() {\r\n      this.showPopup = false;\r\n      this.barcodeInput = \"\";\r\n    },\r\n    maintainFocus() {\r\n      if (!this.disableFocus) {\r\n        this.$refs.searchInput.focus();\r\n      }\r\n    },\r\n    handleLogout() {\r\n      this.$emit(\"logout\"); // Emit the logout event to App.vue\r\n    },\r\n  },\r\n  mounted() {\r\n    this.focusInterval = setInterval(this.maintainFocus, 100);\r\n    this.debouncedOnBarcodeInput = this.debounce(this.onBarcodeInput, 100);\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.focusInterval);\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./HeaderComponent.vue?vue&type=template&id=a6010a4c\"\nimport script from \"./HeaderComponent.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <aside class=\"sidebar\">\r\n    <nav>\r\n      <ul class=\"main-links\">\r\n        <li>\r\n          <router-link to=\"/index.html\"\r\n            ><i class=\"fas fa-home\"></i><span>Home</span>\r\n          </router-link>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\"><i class=\"fas fa-users\"></i><span>Klanten</span></a>\r\n        </li>\r\n        <li>\r\n          <router-link to=\"/bestellingen\">\r\n            <i class=\"fas fa-shopping-cart\"></i><span>Bestellingen</span>\r\n          </router-link>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\"\r\n            ><i class=\"fas fa-chart-bar\"></i><span>Rapportage</span></a\r\n          >\r\n        </li>\r\n      </ul>\r\n      <div class=\"help-section\">\r\n        <ul>\r\n          <li>\r\n            <a href=\"#\"\r\n              ><i class=\"fas fa-question-circle\"></i><span>Help</span></a\r\n            >\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SidebarComponent\",\r\n};\r\n</script>\r\n","import { render } from \"./SidebarComponent.vue?vue&type=template&id=082de87e\"\nimport script from \"./SidebarComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"visible\" class=\"popup-overlay\">\r\n    <div class=\"popup-message\">\r\n      <p>{{ message }}</p>\r\n      <button @click=\"closePopup\">Sluiten</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      message: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    showPopup(message) {\r\n      this.message = message;\r\n      this.visible = true;\r\n    },\r\n    closePopup() {\r\n      this.visible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./ErrorPopup.vue?vue&type=template&id=08bcd05a\"\nimport script from \"./ErrorPopup.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorPopup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=1e0ff19a\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport router from \"./router\";\r\nimport App from \"./App.vue\";\r\n\r\nwindow.startPOS = (element, config) => {\r\n  const app = createApp(App, config);\r\n  app.use(router);\r\n  app.mount(element);\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpossystem\"] = self[\"webpackChunkpossystem\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1619); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","type","_cache","$event","$data","searchQuery","placeholder","onFocus","_ctx","$emit","onBlur","onInput","args","$options","onSearchInput","filteredOrders","length","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","paginatedOrders","filter","order","id","onClick","$router","push","name","params","style","_toDisplayString","reference","customer","payment_method","date","total_tax_incl","toFixed","_hoisted_7","_hoisted_8","_normalizeClass","disabled","currentPage","goToPage","pageRange","page","active","_hoisted_9","totalPages","props","apiBaseUrl","String","required","translations","Object","token","data","orders","ordersPerPage","totalItems","computed","this","query","toLowerCase","toString","includes","Math","ceil","range","maxPagesToShow","startPage","max","endPage","min","mounted","fetchOrders","methods","response","axios","get","headers","Authorization","searchterm","per_page","console","log","list","pagination","total_items","error","__exports__","render","handlePrint","_createTextVNode","lines","item","product_id","src","image_url","alt","quantity","price_tax_incl","goToOrderOverview","showPopup","closePopup","_withModifiers","printDocument","_createCommentVNode","fetchOrderDetails","printType","post","order_id","print_type","alert","routes","path","component","OrderOverview","OrderDetails","router","createRouter","history","createWebHashHistory","_createVNode","_component_HeaderComponent","$props","disableFocus","user","onProductScanned","addProductToOrder","onLogout","logout","_component_SidebarComponent","_component_router_view","orderItems","onFocusStateChange","updateFocusState","_component_CashRegister","onRemoveItem","removeProductFromOrder","onUpdateQuantity","updateItemQuantity","onSetQuantity","setItemQuantity","onClearOrderItems","clearOrderItems","onModalStateChange","updateModalState","_component_ErrorPopup","ref","_createBlock","_component_LoginComponent","onLoginSuccess","setToken","onSubmit","handleLogin","for","username","password","workstationId","workstations","ws","value","errorMessage","role","created","savedWorkstationId","localStorage","getItem","some","expiresIn","setItem","tokenExpirationTime","Date","now","loginFailed","_component_OrderSummary","forwardClearOrderItems","forwardModalStateChange","refcode","selectedProduct","selectProduct","price_tax_excl","_hoisted_10","_hoisted_11","_hoisted_12","quantityEditable","editableQuantity","confirmQuantity","_hoisted_13","_hoisted_14","removeItem","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","setQuantityMode","handleKeyPress","_hoisted_19","editFlatDiscount","_hoisted_20","editDiscount","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","subtotal","_hoisted_25","discountEditable","flatDiscountEditable","_hoisted_26","discount","hidden","discountPercentage","step","confirmDiscount","flatDiscountAmount","_hoisted_27","_hoisted_28","vat","_hoisted_29","_hoisted_30","totalPrice","openModal","_hoisted_31","_hoisted_32","invalidDiscount","showModal","closeModal","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","selectedPaymentMethod","_hoisted_41","cashReceived","number","calculateChange","readonly","_hoisted_42","showPaymentWarning","_hoisted_43","paymentWarning","confirmCheckout","showPaymentConfirmation","_hoisted_44","_hoisted_45","paymentConfirmation","handlePaymentConfirmation","showReceiptPopup","_hoisted_46","_hoisted_47","receiptConfirmation","handleReceiptSelection","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","previousItemCount","quantityMode","previousDiscountPercentage","previousFlatDiscountAmount","newTotal","Array","watch","handler","newItems","scrollToBottom","deep","newValue","discountedSubtotal","reduce","total","parseFloat","totalTaxable","totalBeforeDiscount","product","$nextTick","orderList","$refs","scrollTop","scrollHeight","handleInput","field","currentValue","isNaN","slice","newQuantity","parseInt","setQuantity","handleOutsideClick","event","$el","contains","target","startEditingDiscount","discountPayload","discount_type","fetch","method","body","JSON","stringify","then","ok","Error","status","json","new_total","catch","createNewOrder","handleNewOrderResponse","cancelOrder","handleCancelOrderResponse","cancelPayment","success","amount","paymentMethod","checkoutResponse","paymentResponse","handleCheckoutResponse","handleCashPaymentResponse","handleCardPaymentResponse","wantsReceipt","printReceipt","setTimeout","ordersResponse","ordersData","printResponse","handlePrintReceiptResponse","message","document","addEventListener","beforeUnmount","removeEventListener","components","OrderSummary","payload","state","barcodeInput","debouncedOnBarcodeInput","firstName","lastName","handleLogout","barcodeNotFound","Boolean","default","focusInterval","clearInterval","setInterval","maintainFocus","debounce","func","wait","timeout","clearTimeout","apply","fetchProduct","term","jsend","onBarcodeInput","trim","test","match","products","searchInput","focus","_component_router_link","to","_withCtx","_","href","visible","LoginComponent","CashRegister","HeaderComponent","SidebarComponent","ErrorPopup","newToken","setupInactivityListener","cleanupInactivityListener","inactivityTimeout","tokenExchangeTimeout","fetchCurrentOrder","cart","isArray","map","line","warn","existingItem","find","stock","outOfStock","code","quantityAvailable","errorPopup","previousItems","handleError","itemIndex","findIndex","updateTotalPrice","isFocused","clearTokenData","resetInactivityTimer","events","forEach","window","isExchange","firstname","lastname","tokenData","scheduleTokenExchange","exchangeInMs","exchangeToken","errorData","storedToken","storedExpirationTime","isValid","startPOS","element","config","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}